/*!
 * annex v0.1.0-dev
 */
/*!
 * Module Basic
 */
import{log,warn}from"./logging.js";export function assert(r,e){if(!r)throw e=orDefault(e,"assert exception: assertion failed","string"),new Error(e)}export function attempt(r){assert(isA(r,"function"),"attempt | closure is not a function");try{r()}catch(r){return!1}return!0}export function hasValue(){let r=!0;return Array.from(arguments).forEach((e=>{r=r&&null!=e})),r}export function isEmpty(){let r=!0,e=[void 0,null,"",0];return Array.from(arguments).forEach((r=>{Array.isArray(r?.__additionalEmptyValues__)&&(e=e.concat(r.__additionalEmptyValues__))})),e=Array.from(new Set(e)),Array.from(arguments).forEach((t=>{r&&!Array.isArray(t?.__additionalEmptyValues__)&&(r=e.includes(t),r||(Array.isArray(t)?r=0===t.length:isA(t,"object")?r=0===Object.keys(t).length:(isA(t,"set")||isA(t,"map"))&&(r=0===t.size)))})),r}export function hasMembers(r,e,t){t=orDefault(t,!1,"boolean");let n=!0;return e.forEach((e=>{hasValue(r[e])||(t&&log().info(`hasMembers | missing member ${e}`),n=!1)})),n}export function orDefault(r,e,t=null,n=null){return n=hasValue(n)?Array.isArray(n)?n:[n]:[],hasValue(t)?!isA(t,"function")&&["str","string","int","integer","bool","boolean","float","arr","array"].includes(`${t.toLowerCase()}`)?(t=`${t}`.toLowerCase(),["str","string"].includes(t)?t=function(r){return`${r}`}:["int","integer"].includes(t)?t=function(r){return parseInt(r,10)}:["bool","boolean"].includes(t)?t=function(r){return!!r}:"float"===t?t=function(r){return parseFloat(r)}:["arr","array"].includes(t)&&(t=function(r){return Array.isArray(r)?r:[r]})):isA(t,"function")||(t=function(r){return r}):t=function(r){return r},!hasValue(r)||n.includes(r)?e:t(r)}export function getType(r){if(!hasValue(r))return`${r}`.toLowerCase();const e=Object.prototype.toString.call(r).slice(8,-1).toLowerCase();return"generatorfunction"===e?"function":e.match(/^(array|bigint|date|error|function|generator|regexp|symbol|set|weakset|map|weakmap)$/)?e:"object"==typeof r||"function"==typeof r?"object":typeof r}export function isA(r,e){return["undefined","null","boolean","number","bigint","string","symbol","function","object","array","date","error","generator","regexp","set","weakset","map","weakmap"].includes(`${e}`.toLowerCase())?getType(r)===`${e}`.toLowerCase():(warn(`isA | "${e}" is not a recognized type for this function`),!1)}export function isInt(r){return parseInt(r,10)===r}export function isFloat(r){return parseFloat(r)===r}export function isNaN(r,e){return(e=orDefault(e,!0,"boolean"))?r!=r:isNaN(r)}export function minMax(r,e,t){return assert(r<=t,"minMax | min can not be larger than max"),e<r?r:e>t?t:e}export class Deferred{constructor(){this.resolve=null,this.reject=null,this.promise=new Promise(((r,e)=>{this.resolve=r,this.reject=e}))}then(r){return this.promise.then(r)}catch(r){return this.promise.catch(r)}}
//# sourceMappingURL=basic.js.map
