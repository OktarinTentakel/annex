/*!
 * annex v0.1.0-dev
 */
/*!
 * Module Functions
 */
const MODULE_NAME="Functions";import{orDefault,isA,isPlainObject,assert,hasValue}from"./basic.js";import{schedule,reschedule}from"./timers.js";export function throttle(t,n,e,s){t=orDefault(t,0,"int"),n=isA(n,"function")?n:null,e=orDefault(e,!1,"bool"),s=orDefault(s,!1,"bool"),assert(t>0,"Functions:throttle | ms must be > 0"),assert(null!==n,"Functions:throttle | no function given");let r=!1,o=0;return function(){const i=Array.from(arguments);r?0===o?(o++,n.apply(this,i)):o++:(r=!0,e||o++,n.apply(this,i),schedule(t,(()=>{s&&o>1&&n.apply(this,i),r=!1,o=0})))}}export function debounce(t,n){let e;return t=orDefault(t,0,"int"),n=isA(n,"function")?n:null,assert(t>0,"Functions:debounce | ms must be > 0"),assert(null!==n,"Functions:debounce | no function given"),function(){e=reschedule(e,t,(()=>{n.apply(this,Array.from(arguments))}))}}export function defer(t,n){return t=isA(t,"function")?t:null,n=orDefault(n,1,"int"),assert(n>0,"Functions:defer | delay must be > 0"),assert(null!==t,"Functions:defer | no function given"),function(){return schedule(n,(()=>{t.apply(this,Array.from(arguments))})).id}}export function kwargs(t,n){t=isA(t,"function")?t:null,n=isPlainObject(n)?n:{},assert(null!==t,"Functions:kwargs | no function given");const e=t.toString().match(/\(([^)]+)/)[1],s=e?e.split(",").map((t=>`${t}`.trim())):[];return assert(s.length>0,`Functions:kwargs | could not identify parameter names in "${t.toString()}" using parameter string "${e}"`),function(){const e=[];return Array.from(arguments).forEach(((t,n)=>{!isPlainObject(t)||hasValue(t.kwargs)&&!t.kwargs?e[n]=t:s.forEach(((n,s)=>{hasValue(t[n])&&(e[s]=t[n])}))})),s.forEach(((t,s)=>{!hasValue(e[s])&&hasValue(n[t])&&(e[s]=n[t])})),t.apply(this,e)}}
//# sourceMappingURL=functions.js.map
