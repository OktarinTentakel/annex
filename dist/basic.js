/*!
 * annex v0.1.0-dev
 */
/*!
 * Module Basic
 */
const MODULE_NAME="Basic";import{log,warn}from"./logging.js";export function assert(e,t){if(!e)throw t=orDefault(t,"assert exception: assertion failed","string"),new Error(t)}export function attempt(e){assert(isA(e,"function"),"Basic:attempt | closure is not a function");try{e()}catch(e){return!1}return!0}export function hasValue(){let e=!0;return Array.from(arguments).forEach((t=>{e=e&&null!=t})),e}export function isEmpty(){let e=!0,t=[void 0,null,"",0];return Array.from(arguments).forEach((e=>{isA(e?.__additionalEmptyValues__,"array")&&(t=t.concat(e.__additionalEmptyValues__))})),t=Array.from(new Set(t)),Array.from(arguments).forEach((r=>{e&&!isA(r?.__additionalEmptyValues__,"array")&&(e=t.includes(r),e||(isA(r,"array")?e=0===r.length:isA(r,"object")?e=0===Object.keys(r).length:(isA(r,"set")||isA(r,"map"))&&(e=0===r.size)))})),e}export function hasMembers(e,t,r){r=orDefault(r,!1,"boolean");let n=!0;return t.forEach((t=>{hasValue(e[t])||(r&&log().info(`Basic:hasMembers | missing member ${t}`),n=!1)})),n}export function orDefault(e,t,r=null,n=null){return n=hasValue(n)?[].concat(n):[],hasValue(r)?!isA(r,"function")&&["str","string","int","integer","bool","boolean","float","arr","array"].includes(`${r.toLowerCase()}`)?(r=`${r}`.toLowerCase(),["str","string"].includes(r)?r=function(e){return`${e}`}:["int","integer"].includes(r)?r=function(e){return parseInt(e,10)}:["bool","boolean"].includes(r)?r=function(e){return!!e}:"float"===r?r=function(e){return parseFloat(e)}:["arr","array"].includes(r)&&(r=function(e){return[].concat(e)})):isA(r,"function")||(r=function(e){return e}):r=function(e){return e},!hasValue(e)||n.includes(e)?t:r(e)}export function getType(e){if(!hasValue(e))return`${e}`.toLowerCase();const t=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return"generatorfunction"===t?"function":"document"===t?"htmldocument":"element"===t||/^html.*element$/.test(t)?"htmlelement":t.match(/^(array|bigint|date|error|function|generator|regexp|symbol|set|weakset|map|weakmap|htmldocument|nodelist)$/)?t:"object"==typeof e||"function"==typeof e?"object":typeof e}export function isA(e,t){return["undefined","null","boolean","number","bigint","string","symbol","function","object","array","date","error","generator","regexp","set","weakset","map","weakmap","htmldocument","htmlelement","nodelist"].includes(`${t}`.toLowerCase())?getType(e)===`${t}`.toLowerCase():(warn(`Basic:isA | "${t}" is not a recognized type`),!1)}export function isInt(e){return parseInt(e,10)===e}export function isFloat(e){return parseFloat(e)===e}export function isNaN(e,t){return(t=orDefault(t,!0,"boolean"))?e!=e:isNaN(e)}export function minMax(e,t,r){return assert(e<=r,"Basic:minMax | min can not be larger than max"),t<e?e:t>r?r:t}export class Deferred{constructor(){this.resolve=null,this.reject=null,this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}then(e){return this.promise.then(e)}catch(e){return this.promise.catch(e)}}
//# sourceMappingURL=basic.js.map
