{"version":3,"file":"polyfills.js","names":["MODULE_NAME","assert","hasValue","isA","polyfillElementMatches","methodName","name","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","polyfillCustomEvent","window","CustomEvent","event","params","bubbles","cancelable","detail","undefined","e","document","createEvent","initCustomEvent","Event"],"sources":["polyfills.js"],"mappings":";;;AAQA,MAAMA,YAAc,mBAMZC,OAAQC,SAAUC,QAAU,oBAuB7B,SAASC,yBACf,MAAMC,EAAaD,uBAAuBE,KAErCC,QAAQC,UAAUC,UACtBF,QAAQC,UAAUC,QAAUF,QAAQC,UAAUE,mBAC1CH,QAAQC,UAAUG,uBAClB,MAILV,OAAOC,SAASK,QAAQC,UAAUC,SAAU,aAAkBJ,+CAC/D,QAmBO,SAASO,sBACf,GAAIT,IAAIU,OAAOC,YAAa,YAAc,OAAO,EAEjD,MAAMA,EAAc,SAASC,EAAOC,GACnCA,EAASA,GAAU,CAACC,SAAU,EAAOC,YAAa,EAAOC,YAASC,GAClE,MAAMC,EAAIC,SAASC,YAAY,eAE/B,OADAF,EAAEG,gBAAgBT,EAAOC,EAAOC,QAASD,EAAOE,WAAYF,EAAOG,QAC5DE,CACR,EACAP,EAAYN,UAAYK,OAAOY,MAAMjB,UAErCK,OAAOC,YAAcA,CACtB","sourcesContent":["/*!\n * Module Polyfills\n */\n\n/**\n * @namespace Polyfills\n */\n\nconst MODULE_NAME = 'Polyfills';\n\n\n\n//###[ IMPORTS ]########################################################################################################\n\nimport {assert, hasValue, isA} from './basic.js';\n\n\n\n//###[ EXPORTS ]########################################################################################################\n\n/**\n * @namespace Polyfills:polyfillElementMatches\n */\n\n/**\n * Adds Element.matches support, if not already present in browser. Falls back to ms or mozilla implementations\n * if necessary.\n *\n * @throws error if Element.matches is not supported\n *\n * @memberof Polyfills:polyfillElementMatches\n * @alias polyfillElementMatches\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n * @example\n * polyfillElementMatches()\n * => makes Element.prototype.matches available, if not already present\n */\nexport function polyfillElementMatches(){\n\tconst methodName = polyfillElementMatches.name;\n\n\tif( !Element.prototype.matches ){\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector\n\t\t\t?? Element.prototype.webkitMatchesSelector\n\t\t\t?? null\n\t\t;\n\t}\n\n\tassert(hasValue(Element.prototype.matches), `${MODULE_NAME}:${methodName} | browser does not support Element.matches`);\n}\n\n\n\n/**\n * @namespace Polyfills:polyfillCustomEvent\n */\n\n/**\n * Adds CustomEvent support, if not already present in browser. Falls back to manual implementation via\n * document.createEvent and event.initCustomEvent, if necessary.\n *\n * @memberof Polyfills:polyfillCustomEvent\n * @alias polyfillCustomEvent\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n * @example\n * polyfillCustomEvent()\n * => makes \"windom.CustomEvent\" and \"new CustomEvent()\" available, if not already present\n */\nexport function polyfillCustomEvent(){\n\tif( isA(window.CustomEvent, 'function') ) return false;\n\n\tconst CustomEvent = function(event, params){\n\t\tparams = params ?? {bubbles : false, cancelable : false, detail : undefined};\n\t\tconst e = document.createEvent('CustomEvent');\n\t\te.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t\treturn e;\n\t};\n\tCustomEvent.prototype = window.Event.prototype;\n\n\twindow.CustomEvent = CustomEvent;\n}\n"]}